<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="matthew-sword&#39;s blog">
  <meta name="keywords" content="undefined">
  
    <link rel="icon" href="">
  
    
  <title>php面向对象 | Record&amp;Think</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>Record&Think</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
        <section class="content markdown-body">
          <h1>php面向对象</h1>
          <div class='post-meta'>
            <i class="fa fa-calendar" aria-hidden="true"></i> <time>2017年09月29日</time>
            
              | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/php/">php</a>
  </div>



            
            
          </div>
          <p>#php面向对象</p>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li><strong>类（class）：</strong>属性和方法的集合。（可以简单理解为带有函数的结构体）</li>
<li><strong>对象：</strong>类的实例化。</li>
<li>三大特点：<strong>封装、继承、多态</strong>。<ul>
<li>封装：对类的使用和实现分离，用户只需要掌握接口。</li>
<li>继承：子类可以直接使用父类的属性和方法，简化了类操作，提高代码重用性。</li>
<li>多态：同一个类的不同对象，使用同一个方法可以得到不同的结果。提高代码重用性和程序的灵活性。。</li>
</ul>
</li>
</ul>
<hr>
<p>##类的操作</p>
<p>###声明</p>
<ul>
<li><p>定义类：<code>权限修饰符 class 类名{</code><br>​                               <code>类体;</code><br>​                                                       <code>}</code></p>
<ul>
<li>权限修饰符：<code>public  private  protected</code></li>
<li>成员属性：也称成员变量，用于记录类的属性信息。php中可以为标量类型和复合类型。不能为空类型和资源。</li>
<li>成员常量：<strong>关键字<code>const</code>。</strong>eg.<code>const PI = 3.14159</code>。常量的输出可以不需要类的实例化<code>类名::常量名</code>。</li>
<li>成员方法：也称成员函数，同一般函数。</li>
</ul>
<p>​</p>
</li>
</ul>
<h3 id="实例化"><a href="#实例化" class="headerlink" title="实例化"></a>实例化</h3><ul>
<li><p>对象的创建：<code>$对象名 = new 类名([参数]);</code></p>
</li>
<li><p>类成员的访问：<code>$对象名-&gt;成员属性;</code><br>​                             <code>$对象名-&gt;成员方法();</code></p>
</li>
<li><p>$this操作符：表示对变量本身的引用eg. <code>\$this-&gt;属性; \$this-&gt;方法;</code>  <strong>属性名前没有\$</strong></p>
</li>
</ul>
<p>###构造&amp;析构</p>
<ul>
<li>​构造方法：对象创建成功后第一个被对象自动调用的方法。如果没有声明构造方法，系统会自动生成一个没有参数，且内容为空的构造方法,一个类只有一个构造方法。格式<code>function __construct();</code>         </li>
<li>析构方法：为创建对象的可选方法，一般是完成对象销毁前的清理工作。</li>
</ul>
<hr>
<p>##封装</p>
<h3 id="权限修饰符"><a href="#权限修饰符" class="headerlink" title="权限修饰符"></a>权限修饰符</h3><ul>
<li>public ：可以在程序的任何地点被其它类和对象调用，子类可以继承父类的公共成员。</li>
<li>private:只能在所属类的内部被调用和修改，外部类（即使子类）不能调用修改。</li>
<li>protected:只有本类和子类可以调用它，其它地方不行。</li>
</ul>
<h2 id="​-权限修饰符用于类定义前和成员声明前，如果省略权修饰符，默认为public"><a href="#​-权限修饰符用于类定义前和成员声明前，如果省略权修饰符，默认为public" class="headerlink" title="​           权限修饰符用于类定义前和成员声明前，如果省略权修饰符，默认为public"></a>​           <strong>权限修饰符用于类定义前和成员声明前，如果省略权修饰符，默认为public</strong></h2><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><ul>
<li><p>关键字extends：<code>class 子类名 extends 父类名 { 类体; }</code>子类可以拥有自己和父类的所有属性。</p>
</li>
<li><p>::操作符：<code>::</code>可以在没有声明任何实例的情况下访问类成员。</p>
<p>​                用法：<code>关键字 ::  变量/常量/方法;</code>其中关键字有如下三种：                         </p>
<ul>
<li>parent：调用父类成员</li>
<li>self：调用自身成员</li>
<li>类名：调用此类的成员</li>
</ul>
</li>
<li><p>覆盖父类方法：在子类中对父类的同名方法进行重写，<strong>此方法必须和父类方法有相同的名称，参数，返回值。</strong></p>
</li>
<li><p>关键字static：用于修饰成员变量和成员函数。静态变量和静态函数可以不用对象而使用类名直接访问。<strong>静态变量</strong>相当于储存在类中的全局变量用法<code>类名 ::$静态变量</code>，静态成员可以在对象被销毁后继续保留，方便下一次调用；<strong>静态函数</strong>只能使用静态变量，<code>类名:: 静态函数(...);</code></p>
<p>​                                </p>
</li>
</ul>
<hr>
<h2 id="抽象类-amp-接口"><a href="#抽象类-amp-接口" class="headerlink" title="抽象类&amp;接口"></a>抽象类&amp;接口</h2><p>抽象类和接口是不能被实例化的特殊类。</p>
<p>###抽象类</p>
<p>抽象类是不能被实例化的特殊类，只能作为其它类的父类使用。用法</p>
<p><code>abstract class 类名{</code></p>
<p><code>//抽象成员变量...</code></p>
<p><code>abstract function func1();</code></p>
<p><code>abstract function func2();</code></p>
<p>​                                     <code>}</code></p>
<p>抽象类至少包含一个抽象函数；抽象函数没有函数体，只有声明（末尾加分号）其功能在子类中实现；</p>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p>php只支持单继承，要实现多重继承需要用到接口。</p>
<ul>
<li>声明</li>
</ul>
<p><code>interface 接口名{</code></p>
<p><code>//成员常量</code></p>
<p><code>//抽象函数}</code></p>
<p>接口中不能声明变量，只能是成员常量和抽象函数<strong>所有的函数都必须在子类中实现，否则报错</strong>，接口的权限只能为public。</p>
<ul>
<li><p>用法</p>
<p><code>class 类名 implement 接口1,接口2...{//抽象函数实现}</code></p>
</li>
</ul>
<hr>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><ul>
<li><p>通过重写父类函数实现</p>
</li>
<li><p>通过写不同的接口抽象函数实现</p>
</li>
</ul>
<p>##其它关键字&amp;魔术方法</p>
<ul>
<li>final：用于修饰类或成员函数，修饰类表示此类为最终版本，不可再有子类；修饰成员函数表示此函数不可被重写覆盖。</li>
<li>clone：用于对象克隆，<code>$对象名 = clone $原对象名;</code></li>
<li>instanceof：用于检验某对象是否属于某个类<code>obj_name instanceof class_name</code></li>
</ul>

        </section>
    </article>
    
        
  </div>
  <aside>
    
    <div class="toc-container">
        <h1>目录</h1>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#基本概念"><span class="toc-number">1.</span> <span class="toc-text">基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#实例化"><span class="toc-number">1.1.</span> <span class="toc-text">实例化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限修饰符"><span class="toc-number">1.2.</span> <span class="toc-text">权限修饰符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#​-权限修饰符用于类定义前和成员声明前，如果省略权修饰符，默认为public"><span class="toc-number">2.</span> <span class="toc-text">​           权限修饰符用于类定义前和成员声明前，如果省略权修饰符，默认为public</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#继承"><span class="toc-number">3.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#抽象类-amp-接口"><span class="toc-number">4.</span> <span class="toc-text">抽象类&接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#接口"><span class="toc-number">4.1.</span> <span class="toc-text">接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多态"><span class="toc-number">5.</span> <span class="toc-text">多态</span></a></li></ol>
        </div>
    </div>
    
  </aside>
</main>



  <footer>
  <div class="copyright">
    <div>
      &copy; 2018 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath" target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="/lib/in-view.min.js"></script>
<script src="/lib/lodash.min.js"></script>
<script>
  var isDown = true
  var oldY = 0
  inView.offset(50)

  document.body.addEventListener('touchstart', function(){});
  
  window.addEventListener('scroll', _.throttle(e => {
    var currentY = window.scrollY
    if((oldY - currentY) < 0) {
      isDown = true
    } else {
      isDown = false
    }
    oldY = currentY
  }, 250))

  $("article img").each(function() {
      var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
      $(this).wrapAll(strA);
  });

  $('.toc-link').each(function() {
      var href = $(this).attr("href");
      
      inView(href).on('exit', () => {
        if (isDown) {
          handleActive(href)
        }
      })

      inView(href).on('enter', () => {
        if (!isDown) {
          handleActive(href)
        }
      })

      this.onclick = function(e) {
        var pos = $(href).offset().top - 10;
        $("html,body").animate({scrollTop: pos}, 300);
        setTimeout(() => {
          handleActive(href)
        }, 350)
        return false
      }
  })

  function handleActive(href) {
    document.querySelectorAll('.toc-link').forEach(elm => {
      elm.classList.remove('active')
    })
    document.querySelector(".toc [href='"+ href +"']").classList.add('active')
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>


</body>
</html>
